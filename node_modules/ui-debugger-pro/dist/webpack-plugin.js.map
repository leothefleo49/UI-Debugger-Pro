{"version":3,"sources":["../src/webpack-plugin.ts"],"sourcesContent":["// @ts-ignore - webpack is an optional peer dependency\nimport type { Compiler } from 'webpack';\n\nexport class UIDebuggerWebpackPlugin {\n  apply(compiler: Compiler) {\n    compiler.hooks.compilation.tap('UIDebuggerWebpackPlugin', (compilation: any) => {\n      compilation.hooks.htmlWebpackPluginAfterHtmlProcessing?.tap(\n        'UIDebuggerWebpackPlugin',\n        (data: any) => {\n          const script = `\n            <script>\n              (function() {\n                const script = document.createElement('script');\n                script.type = 'module';\n                script.textContent = \\`\n                  import { createRoot } from 'react-dom/client';\n                  import React from 'react';\n                  import { UIDebugger } from 'ui-debugger-pro';\n                  \n                  const container = document.createElement('div');\n                  container.id = '__ui_debugger_pro_root__';\n                  container.style.cssText = 'position:fixed;z-index:99999;top:0;left:0;width:0;height:0;';\n                  document.body.appendChild(container);\n                  \n                  const root = createRoot(container);\n                  root.render(React.createElement(UIDebugger));\n                \\`;\n                document.body.appendChild(script);\n              })();\n            </script>\n          `;\n          \n          data.html = data.html.replace('</body>', `${script}</body>`);\n          return data;\n        }\n      );\n    });\n  }\n}\n"],"mappings":";;;AAGO,IAAM,0BAAN,MAA8B;AAAA,EACnC,MAAM,UAAoB;AACxB,aAAS,MAAM,YAAY,IAAI,2BAA2B,CAAC,gBAAqB;AALpF;AAMM,wBAAY,MAAM,yCAAlB,mBAAwD;AAAA,QACtD;AAAA,QACA,CAAC,SAAc;AACb,gBAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBf,eAAK,OAAO,KAAK,KAAK,QAAQ,WAAW,GAAG,MAAM,SAAS;AAC3D,iBAAO;AAAA,QACT;AAAA;AAAA,IAEJ,CAAC;AAAA,EACH;AACF;","names":[]}