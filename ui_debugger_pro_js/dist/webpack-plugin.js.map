{"version":3,"sources":["../src/webpack-plugin.ts"],"sourcesContent":["// @ts-ignore - webpack is an optional peer dependency\r\nimport type { Compiler } from 'webpack';\r\n\r\nexport class UIDebuggerWebpackPlugin {\r\n  apply(compiler: Compiler) {\r\n    compiler.hooks.compilation.tap('UIDebuggerWebpackPlugin', (compilation: any) => {\r\n      compilation.hooks.htmlWebpackPluginAfterHtmlProcessing?.tap(\r\n        'UIDebuggerWebpackPlugin',\r\n        (data: any) => {\r\n          const script = `\r\n            <script>\r\n              (function() {\r\n                const script = document.createElement('script');\r\n                script.type = 'module';\r\n                script.textContent = \\`\r\n                  import { createRoot } from 'react-dom/client';\r\n                  import React from 'react';\r\n                  import { UIDebugger } from 'ui-debugger-pro';\r\n                  \r\n                  const container = document.createElement('div');\r\n                  container.id = '__ui_debugger_pro_root__';\r\n                  container.style.cssText = 'position:fixed;z-index:99999;top:0;left:0;width:0;height:0;';\r\n                  document.body.appendChild(container);\r\n                  \r\n                  const root = createRoot(container);\r\n                  root.render(React.createElement(UIDebugger));\r\n                \\`;\r\n                document.body.appendChild(script);\r\n              })();\r\n            </script>\r\n          `;\r\n          \r\n          data.html = data.html.replace('</body>', `${script}</body>`);\r\n          return data;\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGO,IAAM,0BAAN,MAA8B;AAAA,EACnC,MAAM,UAAoB;AACxB,aAAS,MAAM,YAAY,IAAI,2BAA2B,CAAC,gBAAqB;AALpF;AAMM,wBAAY,MAAM,yCAAlB,mBAAwD;AAAA,QACtD;AAAA,QACA,CAAC,SAAc;AACb,gBAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBf,eAAK,OAAO,KAAK,KAAK,QAAQ,WAAW,GAAG,MAAM,SAAS;AAC3D,iBAAO;AAAA,QACT;AAAA;AAAA,IAEJ,CAAC;AAAA,EACH;AACF;","names":[]}